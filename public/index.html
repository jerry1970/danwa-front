<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>danwa front, now with backbone.js</title>
        
        <!-- google font -->
        <link rel="stylesheet" type="text/css" media="all" href="http://fonts.googleapis.com/css?family=Open+Sans:400,300,700">
        
        <!-- vendor css/js -->
        <link rel="stylesheet" href="./assets/css/vendor.min.css">
        <script src="./assets/js/vendor.js" type="text/javascript"></script>
        
        <!-- danwa's common css/js -->
        <link rel="stylesheet" href="./assets/css/common.css">
        <script src="./assets/js/common.js" type="text/javascript"></script>
        
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
    </head>
    
    <body>
    
        <div class="notifications"></div>
        
        <header>
            <div class="container">
                <svg class="logo" viewbox="0 0 32 32">
                    <!-- borders -->
                    <rect class="border" x="3" y="0" width="16" height="6" />
                    <rect class="border" x="3" y="0" width="6" height="26" />
                    <rect class="border" x="23" y="0" width="6" height="26" />
                    <rect class="border" x="3" y="20" width="26" height="6" />
                    <rect class="border" x="13" y="10" width="6" height="6" />
                    <!-- d -->
                    <rect class="d" x="9" y="6" width="14" height="4" style="fill: transparent" />
                    <rect class="d" x="9" y="16" width="14" height="4" style="fill: transparent" />
                    <rect class="d" x="9" y="6" width="4" height="14" style="fill: transparent" />
                    <rect class="d" x="19" y="0" width="4" height="20" style="fill: transparent" />
                    <!-- bubble -->
                    <polygon class="bubble" points="19,25 26,25, 26,32" />
                </svg>
            </div>
        </header>
        
        <section class="page container" id="page" style="opacity: 0;">
        </section>
        
    </body>
</html>

<script type="text/template" id="template-post-list">
    <% _.each(posts, function(post) { %>
    <article class="post">
        <aside class="post-user-avatar pull-left">
            <% if (post.user.avatar.length > 0) { %>
            <img class="user-avatar" src="data:image/png;base64,<%= post.user.avatar %>" />
            <% } %>
        </aside>
        <header>
            <strong class="post-user-username">@<%= post.user.username %></strong>
            <span class="post-created-at"><%= post.created_at %></span>
        </header>
        <p>
            <%= post.content %>
        </p>
    </article>
    <% }); %>
</script>
<script type="text/template" id="template-notification">
    <div class="notification alert alert-<%= notification.type %>">
        <a href="#" class="close">&times;</a>
        <strong>Error:</strong> <%= notification.text %>
    </div>
</script>
